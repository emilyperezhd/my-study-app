{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyperez/Study%20App/my-study-app/src/lib/db.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\n// This weird code prevents the \"Too many connections\" error\nconst globalForPrisma = global as unknown as { prisma: PrismaClient };\n\nexport const db = globalForPrisma.prisma || new PrismaClient();\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = db;"],"names":[],"mappings":";;;;AAAA;;AAEA,4DAA4D;AAC5D,MAAM;AAEC,MAAM,KAAK,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAE5D,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyperez/Study%20App/my-study-app/src/app/actions.ts"],"sourcesContent":["'use server'\n\nimport { db } from \"../lib/db\";\nimport { revalidatePath } from \"next/cache\";\nimport { ChatOpenAI } from \"@langchain/openai\";\nimport { PromptTemplate } from \"@langchain/core/prompts\";\n\n// @ts-ignore\nimport PDFParser from \"pdf2json\";\n\nexport async function uploadPdf(formData: FormData) {\n  try {\n    const file = formData.get(\"file\") as File;\n    if (!file) throw new Error(\"No file found\");\n\n    const arrayBuffer = await file.arrayBuffer();\n    const buffer = Buffer.from(arrayBuffer);\n\n    // --- ORIGINAL METHOD (With Crash Protection) ---\n    const text = await new Promise<string>((resolve, reject) => {\n        const parser = new PDFParser(null, 1); // 1 = Raw Text Mode\n\n        parser.on(\"pdfParser_dataError\", (errData: any) => {\n            console.error(errData.parserError);\n            resolve(\"\"); // If it fails, just return empty text (don't crash)\n        });\n\n        parser.on(\"pdfParser_dataReady\", () => {\n            try {\n                // This is the line that was crashing on specific files.\n                // We wrap it so if it fails, we just save a placeholder message.\n                const raw = parser.getRawTextContent();\n                resolve(raw);\n            } catch (error) {\n                console.error(\"Text extraction error:\", error);\n                resolve(\"Text could not be extracted from this specific PDF.\");\n            }\n        });\n\n        // Start parsing\n        try {\n            parser.parseBuffer(buffer);\n        } catch (e) {\n            resolve(\"\");\n        }\n    });\n    // --------------------------------\n\n    // If text is empty (or failed), use a placeholder\n    const finalContent = typeof text === 'string' && text.trim().length > 0 \n        ? text \n        : \"Text could not be extracted from this PDF.\";\n\n    await db.course.create({\n      data: {\n        title: file.name,\n        content: finalContent,\n      }\n    });\n\n    revalidatePath(\"/\");\n  } catch (error) {\n    console.error(\"Upload Error:\", error);\n  }\n}\n\nexport async function generateStudyGuide(id: string) {\n  try {\n    const note = await db.course.findUnique({ where: { id: id } });\n    if (!note || !note.content) throw new Error(\"Note not found\");\n\n    const model = new ChatOpenAI({ \n      modelName: \"gpt-4o-mini\", \n      openAIApiKey: process.env.OPENAI_API_KEY \n    });\n\n    const prompt = PromptTemplate.fromTemplate(\n      `You are a strict academic tutor. Create a structured study guide.\n       Rules: HTML format only, use <h1>, <h2>, <ul>, <strong>. No Markdown.\n       Text: {text}`\n    );\n\n    const chain = prompt.pipe(model);\n    const response = await chain.invoke({ text: note.content.slice(0, 15000) });\n\n    await db.course.update({\n      where: { id: id },\n      data: { summary: response.content as string }\n    });\n\n    revalidatePath(`/notes/${id}`);\n  } catch (error) {\n    console.error(\"AI Study Guide Error:\", error);\n  }\n}\n\nexport async function generateQuiz(id: string) {\n  try {\n    const note = await db.course.findUnique({ where: { id: id } });\n    if (!note || !note.content) throw new Error(\"Note not found\");\n\n    const model = new ChatOpenAI({\n      modelName: \"gpt-4o-mini\",\n      openAIApiKey: process.env.OPENAI_API_KEY,\n      temperature: 0.1, \n      modelKwargs: { response_format: { type: \"json_object\" } } \n    });\n\n    const prompt = PromptTemplate.fromTemplate(\n      `Generate 5 difficult multiple-choice questions based on the provided text.\n       Return JSON object: {{ \"questions\": [ {{ \"question\": \"...\", \"options\": [\"...\"], \"answer\": \"...\" }} ] }}\n       Text: {text}`\n    );\n\n    const chain = prompt.pipe(model);\n    const response = await chain.invoke({ text: note.content.slice(0, 15000) });\n    \n    const content = typeof response.content === 'string' ? response.content : JSON.stringify(response.content);\n    const data = JSON.parse(content);\n    \n    await db.question.createMany({\n      data: data.questions.map((q: any) => ({\n        courseId: id,\n        question: q.question,\n        options: q.options,\n        answer: q.answer\n      }))\n    });\n\n    revalidatePath(`/notes/${id}`);\n  } catch (error) {\n    console.error(\"AI Quiz Error:\", error);\n  }\n}\n\nexport async function saveQuizResult(courseId: string, score: number, total: number) {\n  try {\n    // We already fixed the database table issue, so this will work now.\n    await db.quizResult.create({\n      data: {\n        courseId,\n        score,\n        total,\n      },\n    });\n    revalidatePath(`/notes/${courseId}`);\n  } catch (error) {\n    console.error(\"Save Error:\", error);\n  }\n}\n\nexport async function deleteCourse(id: string) {\n  try {\n    await db.course.delete({\n      where: { id: id }\n    });\n    revalidatePath(\"/\");\n  } catch (error) {\n    console.error(\"Delete Error:\", error);\n  }\n}\n\nexport async function renameCourse(id: string, newTitle: string) {\n  try {\n    await db.course.update({\n      where: { id: id },\n      data: { title: newTitle }\n    });\n    revalidatePath(\"/\");\n  } catch (error) {\n    console.error(\"Rename Error:\", error);\n  }\n}\n\n// --- FLASHCARD GENERATOR ---\nexport async function generateFlashcards(id: string) {\n  try {\n    const note = await db.course.findUnique({ where: { id: id } });\n    if (!note || !note.content) throw new Error(\"Note not found\");\n\n    const model = new ChatOpenAI({\n      modelName: \"gpt-4o-mini\",\n      openAIApiKey: process.env.OPENAI_API_KEY,\n      temperature: 0.1, \n      modelKwargs: { response_format: { type: \"json_object\" } } \n    });\n\n    // Prompt for JSON Flashcards\n    const prompt = PromptTemplate.fromTemplate(\n      `Generate 15 study flashcards based on the provided text.\n       Focus on key definitions, formulas, and concepts.\n       Return JSON object: {{ \"flashcards\": [ {{ \"front\": \"Term\", \"back\": \"Definition\" }} ] }}\n       Text: {text}`\n    );\n\n    const chain = prompt.pipe(model);\n    const response = await chain.invoke({ text: note.content.slice(0, 15000) });\n    \n    const content = typeof response.content === 'string' ? response.content : JSON.stringify(response.content);\n    const data = JSON.parse(content);\n    \n    // Save to DB\n    await db.flashcard.createMany({\n      data: data.flashcards.map((f: any) => ({\n        courseId: id,\n        front: f.front,\n        back: f.back\n      }))\n    });\n\n    revalidatePath(`/notes/${id}`);\n  } catch (error) {\n    console.error(\"Flashcard Gen Error:\", error);\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyperez/Study%20App/my-study-app/src/components/QuizApp.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/QuizApp.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/QuizApp.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8R,GAC3T,4DACA","ignoreList":[0]}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyperez/Study%20App/my-study-app/src/components/QuizApp.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/QuizApp.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/QuizApp.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0Q,GACvS,wCACA","ignoreList":[0]}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyperez/Study%20App/my-study-app/src/components/FlashcardApp.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/FlashcardApp.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/FlashcardApp.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA","ignoreList":[0]}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyperez/Study%20App/my-study-app/src/components/FlashcardApp.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/FlashcardApp.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/FlashcardApp.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+Q,GAC5S,6CACA","ignoreList":[0]}},
    {"offset": {"line": 390, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyperez/Study%20App/my-study-app/src/app/notes/%5Bid%5D/page.tsx"],"sourcesContent":["import { db } from \"../../../lib/db\";\nimport { generateStudyGuide, generateQuiz, generateFlashcards } from \"../../actions\"; // <--- Added generateFlashcards\nimport Link from \"next/link\";\nimport { notFound } from \"next/navigation\";\nimport QuizApp from \"../../../components/QuizApp\";\nimport FlashcardApp from \"../../../components/FlashcardApp\"; // <--- Added Component\n\ntype PageProps = {\n  params: Promise<{ id: string }>;\n};\n\nexport default async function NotePage({ params }: PageProps) {\n  const { id } = await params;\n\n  // Fetch everything: Note, Questions, Flashcards, Results\n  const note = await db.course.findUnique({\n    where: { id: id },\n    include: { \n      questions: true,\n      flashcards: true, // <--- Fetch Flashcards\n      quizResults: {\n        orderBy: { createdAt: 'desc' }\n      }\n    }\n  });\n\n  if (!note) return notFound();\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-10 space-y-8 min-h-screen bg-gray-50\">\n\n      {/* HEADER */}\n      <div className=\"flex justify-between items-center border-b border-gray-200 pb-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">{note.title}</h1>\n          <p className=\"text-gray-500 text-sm mt-1\">\n            Uploaded on {note.createdAt.toLocaleDateString()}\n          </p>\n        </div>\n        <Link href=\"/\" className=\"text-sm bg-white border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-100 transition\">\n          ‚Üê Back to Dashboard\n        </Link>\n      </div>\n\n      {/* TEXT PREVIEW */}\n      <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n        <h2 className=\"font-semibold mb-2 text-gray-700\">Raw Text Content:</h2>\n        <div className=\"bg-gray-50 p-4 rounded-lg text-gray-600 text-sm whitespace-pre-wrap font-mono max-h-96 overflow-y-auto\">\n          {note.content}\n        </div>\n      </div>\n\n      {/* AI ACTIONS GRID */}\n      <div className=\"pt-4\">\n        <h2 className=\"text-xl font-bold mb-4 text-gray-900\">AI Study Tools ü§ñ</h2>\n        \n        {/* Changed grid-cols-2 to grid-cols-3 to fit the new button */}\n        <div className=\"grid gap-4 md:grid-cols-3\">\n          \n          {/* STUDY GUIDE BUTTON */}\n          <form action={async () => { \"use server\"; await generateStudyGuide(id); }}>\n            <button className=\"bg-indigo-600 text-white p-6 rounded-xl hover:bg-indigo-700 transition text-left shadow-lg w-full h-full transform hover:-translate-y-1\">\n                <h3 className=\"font-bold text-lg\">üìù Study Guide</h3>\n                <p className=\"text-xs text-indigo-100 mt-1\">Summarize concepts.</p>\n            </button>\n          </form>\n\n          {/* FLASHCARDS BUTTON (NEW) */}\n          <form action={async () => { \"use server\"; await generateFlashcards(id); }}>\n            <button \n                disabled={note.flashcards.length > 0}\n                className={`p-6 rounded-xl text-left w-full h-full transition border-2\n                ${note.flashcards.length > 0 \n                  ? 'bg-pink-50 border-pink-200 text-pink-400 cursor-default' \n                  : 'bg-white border-pink-500 hover:bg-pink-50 text-pink-600 shadow-md hover:shadow-lg transform hover:-translate-y-1'}`}\n            >\n                <h3 className=\"font-bold text-lg\">{note.flashcards.length > 0 ? \"‚úÖ Flashcards\" : \"‚ö° Flashcards\"}</h3>\n                <p className=\"text-xs opacity-80 mt-1\">Memorize terms.</p>\n            </button>\n          </form>\n\n          {/* QUIZ BUTTON */}\n          <form action={async () => { \"use server\"; await generateQuiz(id); }}>\n            <button \n              disabled={note.questions.length > 0}\n              className={`p-6 rounded-xl text-left w-full h-full transition border-2\n                ${note.questions.length > 0 \n                  ? 'bg-orange-50 border-orange-200 text-orange-400 cursor-default' \n                  : 'bg-white border-orange-500 hover:bg-orange-50 text-orange-600 shadow-md hover:shadow-lg transform hover:-translate-y-1'}`}\n            >\n              <h3 className=\"font-bold text-lg\">{note.questions.length > 0 ? \"‚úÖ Quiz\" : \"üß™ Quiz\"}</h3>\n              <p className=\"text-xs opacity-80 mt-1\">Practice test.</p>\n            </button>\n          </form>\n\n        </div>\n      </div>\n\n      {/* --- SECTIONS --- */}\n\n      {/* 1. FLASHCARDS */}\n      {note.flashcards.length > 0 && (\n        <FlashcardApp flashcards={note.flashcards} />\n      )}\n\n      {/* 2. QUIZ */}\n      {note.questions.length > 0 && (\n        <div className=\"mt-8\">\n            <QuizApp questions={note.questions} courseId={id} />\n        </div>\n      )}\n\n      {/* 3. QUIZ HISTORY */}\n      {note.quizResults.length > 0 && (\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mt-8\">\n            <h3 className=\"font-bold text-xl mb-4 text-gray-800\">üìä Quiz History</h3>\n            <div className=\"space-y-3\">\n                {note.quizResults.map((result, index) => {\n                    const percent = Math.round((result.score / result.total) * 100);\n                    const colorClass = percent >= 80 ? 'text-green-600 bg-green-50' : percent >= 50 ? 'text-orange-600 bg-orange-50' : 'text-red-600 bg-red-50';\n                    return (\n                        <div key={result.id} className=\"flex justify-between items-center p-4 border rounded-lg\">\n                            <div>\n                                <p className=\"font-semibold text-gray-700\">Attempt {note.quizResults.length - index}</p>\n                                <p className=\"text-xs text-gray-400\" suppressHydrationWarning={true}>{result.createdAt.toLocaleString()}</p>\n                            </div>\n                            <div className={`px-4 py-2 rounded-full font-bold ${colorClass}`}>\n                                {result.score} / {result.total} ({percent}%)\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n      )}\n\n      {/* 4. STUDY GUIDE */}\n      {note.summary && (\n        <div className=\"mt-10 border-t pt-8\">\n          <h2 className=\"text-2xl font-bold mb-4 text-indigo-600\">üéì Your Study Guide</h2>\n          <div className=\"prose prose-lg max-w-none bg-white p-8 rounded-xl shadow-lg border border-indigo-50\"\n            dangerouslySetInnerHTML={{ __html: note.summary }} />\n        </div>\n      )}\n\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;AACA,4MAAsF,gCAAgC;AACtH;AACA;AAAA;AACA;AACA,sOAA6D,uBAAuB;;;;;;;;;;MAuD5D,uCAAR;;IAAoC,MAAM,IAAA,2IAAkB;AAAM;AAA1D,+OAAA;MAQA,uCAAR;;IAAoC,MAAM,IAAA,2IAAkB;AAAM;AAA1D,+OAAA;MAcA,uCAAR;;IAAoC,MAAM,IAAA,qIAAY;AAAM;AAApD,+OAAA;AAvET,eAAe,SAAS,EAAE,MAAM,EAAa;IAC1D,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IAErB,yDAAyD;IACzD,MAAM,OAAO,MAAM,sHAAE,CAAC,MAAM,CAAC,UAAU,CAAC;QACtC,OAAO;YAAE,IAAI;QAAG;QAChB,SAAS;YACP,WAAW;YACX,YAAY;YACZ,aAAa;gBACX,SAAS;oBAAE,WAAW;gBAAO;YAC/B;QACF;IACF;IAEA,IAAI,CAAC,MAAM,OAAO,IAAA,iMAAQ;IAE1B,qBACE,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAoC,KAAK,KAAK;;;;;;0CAC5D,8OAAC;gCAAE,WAAU;;oCAA6B;oCAC3B,KAAK,SAAS,CAAC,kBAAkB;;;;;;;;;;;;;kCAGlD,8OAAC,0LAAI;wBAAC,MAAK;wBAAI,WAAU;kCAA4F;;;;;;;;;;;;0BAMvH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,8OAAC;wBAAI,WAAU;kCACZ,KAAK,OAAO;;;;;;;;;;;;0BAKjB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAuC;;;;;;kCAGrD,8OAAC;wBAAI,WAAU;;0CAGb,8OAAC;gCAAK,MAAM,EAAE;0CACZ,cAAA,8OAAC;oCAAO,WAAU;;sDACd,8OAAC;4CAAG,WAAU;sDAAoB;;;;;;sDAClC,8OAAC;4CAAE,WAAU;sDAA+B;;;;;;;;;;;;;;;;;0CAKlD,8OAAC;gCAAK,MAAM,EAAE;0CACZ,cAAA,8OAAC;oCACG,UAAU,KAAK,UAAU,CAAC,MAAM,GAAG;oCACnC,WAAW,CAAC;gBACZ,EAAE,KAAK,UAAU,CAAC,MAAM,GAAG,IACvB,4DACA,oHAAoH;;sDAExH,8OAAC;4CAAG,WAAU;sDAAqB,KAAK,UAAU,CAAC,MAAM,GAAG,IAAI,iBAAiB;;;;;;sDACjF,8OAAC;4CAAE,WAAU;sDAA0B;;;;;;;;;;;;;;;;;0CAK7C,8OAAC;gCAAK,MAAM,EAAE;0CACZ,cAAA,8OAAC;oCACC,UAAU,KAAK,SAAS,CAAC,MAAM,GAAG;oCAClC,WAAW,CAAC;gBACV,EAAE,KAAK,SAAS,CAAC,MAAM,GAAG,IACtB,kEACA,0HAA0H;;sDAEhI,8OAAC;4CAAG,WAAU;sDAAqB,KAAK,SAAS,CAAC,MAAM,GAAG,IAAI,WAAW;;;;;;sDAC1E,8OAAC;4CAAE,WAAU;sDAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAU9C,KAAK,UAAU,CAAC,MAAM,GAAG,mBACxB,8OAAC,6IAAY;gBAAC,YAAY,KAAK,UAAU;;;;;;YAI1C,KAAK,SAAS,CAAC,MAAM,GAAG,mBACvB,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,wIAAO;oBAAC,WAAW,KAAK,SAAS;oBAAE,UAAU;;;;;;;;;;;YAKnD,KAAK,WAAW,CAAC,MAAM,GAAG,mBACzB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAuC;;;;;;kCACrD,8OAAC;wBAAI,WAAU;kCACV,KAAK,WAAW,CAAC,GAAG,CAAC,CAAC,QAAQ;4BAC3B,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,OAAO,KAAK,GAAG,OAAO,KAAK,GAAI;4BAC3D,MAAM,aAAa,WAAW,KAAK,+BAA+B,WAAW,KAAK,iCAAiC;4BACnH,qBACI,8OAAC;gCAAoB,WAAU;;kDAC3B,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;;oDAA8B;oDAAS,KAAK,WAAW,CAAC,MAAM,GAAG;;;;;;;0DAC9E,8OAAC;gDAAE,WAAU;gDAAwB,0BAA0B;0DAAO,OAAO,SAAS,CAAC,cAAc;;;;;;;;;;;;kDAEzG,8OAAC;wCAAI,WAAW,CAAC,iCAAiC,EAAE,YAAY;;4CAC3D,OAAO,KAAK;4CAAC;4CAAI,OAAO,KAAK;4CAAC;4CAAG;4CAAQ;;;;;;;;+BANxC,OAAO,EAAE;;;;;wBAU3B;;;;;;;;;;;;YAMT,KAAK,OAAO,kBACX,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0C;;;;;;kCACxD,8OAAC;wBAAI,WAAU;wBACb,yBAAyB;4BAAE,QAAQ,KAAK,OAAO;wBAAC;;;;;;;;;;;;;;;;;;AAM5D"}},
    {"offset": {"line": 799, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyperez/Study%20App/my-study-app/.next-internal/server/app/notes/%5Bid%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_2 as '40255d6011a6624df39a52063ef35c5cfe1bf62114'} from 'ACTIONS_MODULE0'\nexport {$$RSC_SERVER_ACTION_0 as '402a91be692d9b09d68995a31edf77d245db9db81c'} from 'ACTIONS_MODULE0'\nexport {$$RSC_SERVER_ACTION_1 as '4060d7de527aaa22ee3567c7a37b6942aadf151553'} from 'ACTIONS_MODULE0'\nexport {uploadPdf as '4029b1f2a07c9a7d620d4b958168233797a4861b20'} from 'ACTIONS_MODULE1'\nexport {generateStudyGuide as '409078de68a41a43e66f0601878397a73538990768'} from 'ACTIONS_MODULE1'\nexport {deleteCourse as '409b10a8f76ebde8a9c653283fd0b8db06b04e0359'} from 'ACTIONS_MODULE1'\nexport {generateFlashcards as '40b1056ec51f8d9f6ad6b2a3e1b600180be311da8d'} from 'ACTIONS_MODULE1'\nexport {generateQuiz as '40f43fc974ff6928b7b3a2e6912cea9dbb69f4517b'} from 'ACTIONS_MODULE1'\nexport {renameCourse as '604d9ab2e8562919b8dafb514e563e8e65bc7d7f81'} from 'ACTIONS_MODULE1'\nexport {saveQuizResult as '707237374e2ca69a57c875b3ea679e9f2e612c7182'} from 'ACTIONS_MODULE1'\nexport {saveQuizResult as '707237374e2ca69a57c875b3ea679e9f2e612c7182'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AAGA"}}]
}